<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="700" prefWidth="1000" style="-fx-background-color: #e0f7fa;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="KuesionerController">

    <!-- Left Sidebar Navigation -->
<VBox prefWidth="250.0" style="-fx-background-color: #006064; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 2, 0);">
      <children>
         <VBox alignment="CENTER" spacing="10" style="-fx-padding: 30 20 20 20;">
            <children>
               <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;" text=" LAPER" />
               <Label style="-fx-font-size: 12px; -fx-text-fill: #b2dfdb; -fx-text-alignment: center;" text="Mental Health Companion" />
            </children>
         </VBox>
         <VBox spacing="5" style="-fx-padding: 20 10;">
            <children>
               <Button fx:id="btnDashboard" alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#handleDashboardMenu" style="-fx-background-color: transparent; -fx-text-fill: #b2dfdb; -fx-font-size: 14px; -fx-padding: 12 20; -fx-background-radius: 8; -fx-border-radius: 8;">
                  <graphic>
                     <HBox alignment="CENTER_LEFT" spacing="12">
                        <children>
                           <Label style="-fx-font-size: 16px;" text="ðŸ " />
                           <Label style="-fx-font-size: 14px; -fx-text-fill: #b2dfdb;" text="Dashboard" />
                        </children>
                     </HBox>
                  </graphic>
               </Button>
               <Separator style="-fx-background-color: #4db6ac; -fx-opacity: 0.3;" />
               <VBox spacing="2" style="-fx-padding: 10 0;">
                  <children>
                     <Button fx:id="btnArtikel" alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#handleArtikelMenu" style="-fx-background-color: transparent; -fx-text-fill: #b2dfdb; -fx-font-size: 14px; -fx-padding: 12 20; -fx-background-radius: 8; -fx-border-radius: 8;">
                        <graphic>
                           <HBox alignment="CENTER_LEFT" spacing="12">
                              <children>
                                 <Label style="-fx-font-size: 16px;" text="ðŸ“–" />
                                 <Label style="-fx-font-size: 14px; -fx-text-fill: #b2dfdb;" text="Membaca Artikel" />
                              </children>
                           </HBox>
                        </graphic>
                     </Button>
                     <Button fx:id="btnPernapasan" alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#handlePernapasanMenu" style="-fx-background-color: transparent; -fx-text-fill: #b2dfdb; -fx-font-size: 14px; -fx-padding: 12 20; -fx-background-radius: 8; -fx-border-radius: 8;">
                        <graphic>
                           <HBox alignment="CENTER_LEFT" spacing="12">
                              <children>
                                 <Label style="-fx-font-size: 16px;" text="ðŸ§˜" />
                                 <Label style="-fx-font-size: 14px; -fx-text-fill: #b2dfdb;" text="Latihan Pernapasan" />
                              </children>
                           </HBox>
                        </graphic>
                     </Button>
                     <Button fx:id="btnKuesioner" alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#handleKuesionerMenu" style="-fx-background-color: #4db6ac; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 12 20; -fx-background-radius: 8; -fx-border-radius: 8;">
                        <graphic>
                           <HBox alignment="CENTER_LEFT" spacing="12">
                              <children>
                                 <Label style="-fx-font-size: 16px;" text="ðŸ“Š" />
                                 <Label style="-fx-font-size: 14px; -fx-text-fill: white;" text="Isi Kuesioner" />
                              </children>
                           </HBox>
                        </graphic>
                     </Button>
                     <Button fx:id="btnTodoList" alignment="CENTER_LEFT" maxWidth="Infinity" onAction="#handleTodoListMenu" style="-fx-background-color: t; -fx-text-fill: #b2dfdb; -fx-font-size: 14px; -fx-padding: 12 20; -fx-background-radius: 8; -fx-border-radius: 8;">
                        <graphic>
                           <HBox alignment="CENTER_LEFT" spacing="12">
                              <children>
                                 <Label style="-fx-font-size: 16px;" text="âœ…" />
                                 <Label style="-fx-font-size: 14px; -fx-text-fill: #b2dfbd;" text="To Do List" />
                              </children>
                           </HBox>
                        </graphic>
                     </Button>
                  </children>
               </VBox>
            </children>
         </VBox>
         <Region prefHeight="200.0" prefWidth="250.0" VBox.vgrow="ALWAYS" />
         <VBox alignment="CENTER" spacing="10" style="-fx-padding: 20;">
            <children>
               <Separator style="-fx-background-color: #4db6ac; -fx-opacity: 0.3;" />
               <HBox alignment="CENTER" spacing="10" />
            </children>
         </VBox>
      </children>
    </VBox>
    <!-- Main Content Area -->
    <ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="250" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

        <VBox fx:id="mainContent" alignment="TOP_CENTER" spacing="25" style="-fx-padding: 30;">

            <!-- Questionnaire Content -->
            <VBox fx:id="kuesionerContent" alignment="TOP_CENTER" spacing="25">
                
                <!-- Header -->
                <VBox alignment="CENTER" spacing="5">
                    <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #263238;" text="ðŸ“Š Kuesioner Harian :)" />
                    <Label style="-fx-font-size: 14px; -fx-text-fill: #455a64;" text="Jawablah pertanyaan berikut dengan Ya atau Tidak." />
                </VBox>

                <!-- Question Container -->
                <VBox maxWidth="700" spacing="20" style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">

                    <!-- Question 1: Positive Mood -->
                    <VBox spacing="15">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #34495e;" text="1. Apakah Anda merasa bahagia atau senang hari ini?" />
                        <VBox spacing="8">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Button fx:id="mood1" onAction="#handleMoodYes" style="-fx-background-color: #e8f5e8; -fx-text-fill: #2e7d32; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #4caf50; -fx-border-width: 2;" text="Ya" userData="yes" />
                                <Button fx:id="mood2" onAction="#handleMoodNo" style="-fx-background-color: #fce4ec; -fx-text-fill: #c62828; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e91e63; -fx-border-width: 2;" text="Tidak" userData="no" />
                            </HBox>
                            <Label fx:id="moodLabel" style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" text="Pilih jawaban yang sesuai dengan perasaan Anda" />
                        </VBox>
                    </VBox>

                    <!-- Question 2: Anxiety -->
                    <VBox spacing="15">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #34495e;" text="2. Apakah Anda merasa cemas atau khawatir berlebihan hari ini?" />
                        <VBox spacing="8">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Button fx:id="anxiety1" onAction="#handleAnxietyYes" style="-fx-background-color: #e8f5e8; -fx-text-fill: #2e7d32; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #4caf50; -fx-border-width: 2;" text="Ya" userData="yes" />
                                <Button fx:id="anxiety2" onAction="#handleAnxietyNo" style="-fx-background-color: #fce4ec; -fx-text-fill: #c62828; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e91e63; -fx-border-width: 2;" text="Tidak" userData="no" />
                            </HBox>
                            <Label fx:id="anxietyLabel" style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" text="Kecemasan yang mengganggu aktivitas sehari-hari" />
                        </VBox>
                    </VBox>

                    <!-- Question 3: Sleep Quality -->
                    <VBox spacing="15">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #34495e;" text="3. Apakah Anda tidur dengan nyenyak tadi malam?" />
                        <VBox spacing="8">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Button fx:id="sleep1" onAction="#handleSleepYes" style="-fx-background-color: #e8f5e8; -fx-text-fill: #2e7d32; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #4caf50; -fx-border-width: 2;" text="Ya" userData="yes" />
                                <Button fx:id="sleep2" onAction="#handleSleepNo" style="-fx-background-color: #fce4ec; -fx-text-fill: #c62828; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e91e63; -fx-border-width: 2;" text="Tidak" userData="no" />
                            </HBox>
                            <Label fx:id="sleepLabel" style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" text="Tidur yang berkualitas dan tidak terganggu" />
                        </VBox>
                    </VBox>

                    <!-- Question 4: Stress Level -->
                    <VBox spacing="15">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #34495e;" text="4. Apakah Anda mengalami stres yang berat hari ini?" />
                        <VBox spacing="8">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Button fx:id="stress1" onAction="#handleStressYes" style="-fx-background-color: #e8f5e8; -fx-text-fill: #2e7d32; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #4caf50; -fx-border-width: 2;" text="Ya" userData="yes" />
                                <Button fx:id="stress2" onAction="#handleStressNo" style="-fx-background-color: #fce4ec; -fx-text-fill: #c62828; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e91e63; -fx-border-width: 2;" text="Tidak" userData="no" />
                            </HBox>
                            <Label fx:id="stressLabel" style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" text="Stres yang mengganggu aktivitas atau konsentrasi" />
                        </VBox>
                    </VBox>

                    <!-- Question 5: Breathing Exercise -->
                    <VBox maxHeight="1500.0" spacing="15">
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #34495e;" text="5. Apakah Anda melakukan aktivitas relaksasi (seperti meditasi atau latihan pernapasan) hari ini?" />
                        <VBox spacing="8">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Button fx:id="breathing1" onAction="#handleBreathingYes" style="-fx-background-color: #e8f5e8; -fx-text-fill: #2e7d32; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #4caf50; -fx-border-width: 2;" text="Ya" userData="yes" />
                                <Button fx:id="breathing2" onAction="#handleBreathingNo" style="-fx-background-color: #fce4ec; -fx-text-fill: #c62828; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e91e63; -fx-border-width: 2;" text="Tidak" userData="no" />
                            </HBox>
                            <Label fx:id="breathingLabel" style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" text="Aktivitas untuk menenangkan pikiran dan tubuh" />
                        </VBox>
                    </VBox>

                </VBox>

                <!-- Submit Button -->
                <Button fx:id="btnSubmit" onAction="#handleSubmit" prefHeight="45" prefWidth="200" style="-fx-background-color: #006064; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-background-radius: 25; -fx-border-radius: 25;" text="SUBMIT ANSWERS" />

                <!-- Result Area -->
                <TextArea fx:id="resultArea" maxHeight="500.0" maxWidth="700.0" style="-fx-background-color: #f8f9fa; -fx-padding: 20; -fx-background-radius: 10; -fx-border-radius: 10;" visible="false" wrapText="true" />

            </VBox>

        </VBox>
    </ScrollPane>
</AnchorPane>
